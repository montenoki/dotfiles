# ~/.config/sway/conf.d/40-autostart.conf
# 自启动与会话环境初始化

# 向 systemd user / dbus 同步 Wayland 会话环境变量（便于托盘/门户/服务正常识别）
exec_always {
    systemctl --user set-environment XDG_CURRENT_DESKTOP=sway XDG_SESSION_DESKTOP=sway XDG_SESSION_TYPE=wayland
    systemctl --user import-environment WAYLAND_DISPLAY SWAYSOCK DISPLAY I3SOCK XCURSOR_SIZE XCURSOR_THEME
    dbus-update-activation-environment --systemd WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP XDG_SESSION_DESKTOP XDG_SESSION_TYPE DISPLAY I3SOCK XCURSOR_SIZE XCURSOR_THEME
}

# 通知服务
exec_always mako

# 输入法
exec_always --no-startup-id fcitx5
